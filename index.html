<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
</head>

<body>

</body>
<script>
    //捕获JS执行异常
    // window.onerror = function (message, source, lineno, colno, error) {
    //     console.log("捕获到异常：", { message, source, lineno, colno, error });
    // };

    //捕获静态资源异常
    window.addEventListener('error', (error) => {
        console.log('捕获到异常：', error);
    }, true)
    //捕获promise异常
    window.addEventListener("unhandledrejection", function (e) {
        e.preventDefault();
        console.log("捕获到 promise 错误了");
        console.log("错误的原因是", e.reason);
        console.log("Promise 对象是", e.promise);
        return true;
    });

    Promise.reject("promise error");
    new Promise((resolve, reject) => {
        reject("promise error");
    });
    new Promise((resolve) => {
        resolve();
    }).then(() => {
        throw "promise error";
    });

    const a = {}

    // try {
    // a.b = 6
    // } catch (error) {
    // console.log(error.message)
    // } finally {
    // console.log(1)
    // }


    // a = 5

</script>

</html>
<!-- <img src="https://itemcdn.zcycdn.com/15af41ec-e6cb-4478-8fad-1a47402f0f25.png"> -->