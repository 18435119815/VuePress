(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{706:function(e,s,n){"use strict";n.r(s);var a=n(88),t=Object(a.a)({},(function(){var e=this,s=e.$createElement,n=e._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"vue3新特性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#vue3新特性"}},[e._v("#")]),e._v(" vue3新特性")]),e._v(" "),n("ul",[n("li",[e._v("采用渐进式开发，向下兼容（Vue3 支持大多数 Vue2 的特性）")]),e._v(" "),n("li",[e._v("各方面性能的提升\n"),n("ol",[n("li",[e._v("打包体积缩小41%")]),e._v(" "),n("li",[e._v("初次渲染快55%")]),e._v(" "),n("li",[e._v("更新快133%")]),e._v(" "),n("li",[e._v("内存使用减少54%")])])]),e._v(" "),n("li",[e._v("Composition API（解决复杂组件的阅读和复用问题）")]),e._v(" "),n("li",[e._v("Teleport(瞬移组件)、Suspense(解决异步加载组件问题)和全局 API 的修改和优化")]),e._v(" "),n("li",[e._v("更好TypeScript支持")]),e._v(" "),n("li",[e._v("使用Proxy代替defineproperty实现数据响应式")])]),e._v(" "),n("h2",{attrs:{id:"项目搭建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#项目搭建"}},[e._v("#")]),e._v(" 项目搭建")]),e._v(" "),n("ol",[n("li",[e._v("vue create 项目名称(或者vue ui打开图形构建工具，依次操作)")]),e._v(" "),n("li",[e._v("选择配置项->手动选择->根据需求空格选中")]),e._v(" "),n("li",[e._v("选择项目所使用的vue版本(3.x)")]),e._v(" "),n("li",[e._v("是否需要使用class-style")]),e._v(" "),n("li",[e._v("是否需要使用TypeScript和Babel的形式编译 JSX")]),e._v(" "),n("li",[e._v("ESLint配置（选第一项就好）")]),e._v(" "),n("li",[e._v("选择增加lint的特性功能")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("? Pick additional lint features: (Press <space> to select, <a> to toggle all, <i> to invert selection)\n>(*) Lint on save         //保存的时候进行Lint\n ( ) Lint and fix on commit   //需要帮你进行fix（修理），这项我们不进行选择\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br")])]),n("ol",{attrs:{start:"8"}},[n("li",[e._v("选择这些配置文件时单独存放，还是直接存放在package.json文件里。这里选择放在单独的文件里")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Where do you prefer placing config for Babel, ESLint, etc.? In dedicated config files\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("ol",{attrs:{start:"9"}},[n("li",[e._v("是否需要将此次配置保存下来，方便下次使用")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("Save this as a preset for future projects? (y/N)\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br")])]),n("ol",{attrs:{start:"10"}},[n("li",[e._v("如果你同时安装了npm和yarn来个包管理软件，它还会作最后一次询问，让你选择使用什么进行下载。")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("? Pick the package manager to use when installing dependencies:\n> Use Yarn\n  Use NPM\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br")])]),n("h2",{attrs:{id:"基础知识"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#基础知识"}},[e._v("#")]),e._v(" 基础知识")]),e._v(" "),n("h3",{attrs:{id:"数据劫持的实现"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#数据劫持的实现"}},[e._v("#")]),e._v(" 数据劫持的实现")]),e._v(" "),n("h4",{attrs:{id:"proxy代理和reflect反射对象"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#proxy代理和reflect反射对象"}},[e._v("#")]),e._v(" "),n("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Proxy",target:"_blank",rel:"noopener noreferrer"}},[e._v("Proxy代理"),n("OutboundLink")],1),e._v("和Reflect反射对象")]),e._v(" "),n("blockquote",[n("p",[e._v("Proxy对象用于创建一个对象的代理，从而实现基本操作的拦截和自定义（如属性查找、赋值、枚举、函数调用等）")])]),e._v(" "),n("p",[n("strong",[e._v("语法")]),n("br"),e._v(" "),n("code",[e._v("const p = new Proxy(target, handler)")]),n("br"),e._v(" "),n("strong",[e._v("示例")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("      var obj = {\n          name:'任俊峰',\n          age:25,\n          wife:{\n              name:'范彩乐',\n              age:19\n          }\n      }\n\n      //target代理对象  prop代理对象的属性\n      const newObj = new Proxy(obj,{\n          get(target,prop){\n              console.log('get')\n              return Reflect.get(target,prop)\n          },\n          set(target,prop,val){\n              console.log('set')\n              return Reflect.set(target,prop,val)\n          },\n          deleteProperty(target,prop){\n              console.log('delete')\n              return Reflect.deleteProperty(target,prop)\n          }\n      })\n\n      newObj.name;                        //get\n      newObj.name = '哎呦喂';              //set\n      console.log(obj)                    //{name: \"哎呦喂\", age: 25, wife: {…}}\n\n      delete newObj.age;                  //delete\n      console.log(obj)                    //{name: \"哎呦喂\", wife: {…}}\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br"),n("span",{staticClass:"line-number"},[e._v("24")]),n("br"),n("span",{staticClass:"line-number"},[e._v("25")]),n("br"),n("span",{staticClass:"line-number"},[e._v("26")]),n("br"),n("span",{staticClass:"line-number"},[e._v("27")]),n("br"),n("span",{staticClass:"line-number"},[e._v("28")]),n("br"),n("span",{staticClass:"line-number"},[e._v("29")]),n("br"),n("span",{staticClass:"line-number"},[e._v("30")]),n("br"),n("span",{staticClass:"line-number"},[e._v("31")]),n("br")])]),n("h3",{attrs:{id:"ref和setup函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ref和setup函数"}},[e._v("#")]),e._v(" ref和setup函数")]),e._v(" "),n("ul",[n("li",[e._v("项目中需要在template中使用的变量，都需要使用ref函数处理")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('const name = ref(\'哎呦喂\')\nconst arr =  ref(["乐乐", "菁菁", "菲菲"]);\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br")])]),n("ul",[n("li",[e._v("data和methods属性中的变量方法全都写在setup函数中")]),e._v(" "),n("li",[e._v("return出去的数据和方法，在模板中才可以使用，这样可以精准的控制暴漏的变量和方法"),n("br"),e._v("\n下面实现一个简单的功能，初步感受一下（点击按钮选择一个女孩成为自己的妻子）")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('<template>\n  <div>\n    <p>请选择一个女孩成为你的妻子</p>\n    <button\n      v-for="(item, index) in girls"\n      :key="index"\n      @click="selectGirlFun(index)"\n    >\n      {{ item }}\n    </button>\n\n    <p>现在{{ selectGirl }}已经是你的妻子了，希望你们可以一直幸福的走下去</p>\n  </div>\n</template>\n\n<script lang="ts">\nimport { defineComponent, ref } from "vue";\n\nexport default defineComponent({\n  name: "App",\n  setup() {\n    const girls = ref(["乐乐", "菁菁", "菲菲"]);\n    const selectGirl = ref("");\n    const selectGirlFun = (index: number) => {\n      selectGirl.value = girls.value[index];    //被ref处理过的值，赋值和取值都需要.value，暂时理解为之前的this.变成了.value\n    };\n    return {\n      girls,\n      selectGirl,\n      selectGirlFun,\n    };\n  },\n});\n<\/script>\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br"),n("span",{staticClass:"line-number"},[e._v("24")]),n("br"),n("span",{staticClass:"line-number"},[e._v("25")]),n("br"),n("span",{staticClass:"line-number"},[e._v("26")]),n("br"),n("span",{staticClass:"line-number"},[e._v("27")]),n("br"),n("span",{staticClass:"line-number"},[e._v("28")]),n("br"),n("span",{staticClass:"line-number"},[e._v("29")]),n("br"),n("span",{staticClass:"line-number"},[e._v("30")]),n("br"),n("span",{staticClass:"line-number"},[e._v("31")]),n("br"),n("span",{staticClass:"line-number"},[e._v("32")]),n("br"),n("span",{staticClass:"line-number"},[e._v("33")]),n("br"),n("span",{staticClass:"line-number"},[e._v("34")]),n("br")])]),n("h3",{attrs:{id:"reactive和torefs"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#reactive和torefs"}},[e._v("#")]),e._v(" reactive和toRefs")]),e._v(" "),n("p",[e._v("如果感觉上面的那种方式麻烦又陌生的话，可以试试reactive函数，会有vue2的感觉"),n("br"),e._v("\n直接上实例")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('//引入reactive\nimport { defineComponent, ref, reactive } from "vue";\n\n//setup中\n setup() {\n    const data = reactive({       //用reactive包裹要用到的变量和方法,类似于之前vue2的data了\n      girls: ref(["乐乐", "菁菁", "菲菲"]),\n      selectGirl: ref(""),\n      selectGirlFun: (index: number) => {\n        data.selectGirl = data.girls[index];  //此处不再需要.value，而是data.  html中的引用也需要变成data.\n      },\n    });\n\n    return{data}                  //直接return一个data就好了\n  },\n\n//html中的引用加上data.前缀\n<button\n  v-for="(item, index) in data.girls"\n  :key="index"\n  @click="data.selectGirlFun(index)"\n>\n  {{ item }}\n</button>\n\n<p>现在{{ data.selectGirl }}已经是你的妻子了，希望你们可以一直幸福的走下去</p>\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br"),n("span",{staticClass:"line-number"},[e._v("21")]),n("br"),n("span",{staticClass:"line-number"},[e._v("22")]),n("br"),n("span",{staticClass:"line-number"},[e._v("23")]),n("br"),n("span",{staticClass:"line-number"},[e._v("24")]),n("br"),n("span",{staticClass:"line-number"},[e._v("25")]),n("br"),n("span",{staticClass:"line-number"},[e._v("26")]),n("br")])]),n("p",[e._v("上面这个示例还有一个严重的缺陷就是html中变量的引用不再像之前那么方便了，其实也有解决办法，那就是toRefs")]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('//导入\nimport {  ref, reactive, toRefs } from "vue";\n\n//将data用toRefs处理\nconst dataRefs = toRefs(data)\n//结构导出\nreturn{...dataRefs}\n//这样html模版中就不需要加变量前缀了，可以直接使用girls  selectGirl  selectGirlFun\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br")])]),n("h3",{attrs:{id:"如何选择-ref-和-reactive"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#如何选择-ref-和-reactive"}},[e._v("#")]),e._v(" 如何选择 Ref()和 reactive()")]),e._v(" "),n("p",[e._v("网络上对这两个方法的争论还是不少的，但到目前为止，还没有什么实质性的理论到底是用Ref()好，还是reactive()好，也就是两种方法都可以。他们的作用都是生成响应式对象，目前来看只是编写上有所不同。")]),e._v(" "),n("h3",{attrs:{id:"生命周期和钩子函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#生命周期和钩子函数"}},[e._v("#")]),e._v(" 生命周期和钩子函数")]),e._v(" "),n("ul",[n("li",[e._v("setup() :开始创建组件之前，在beforeCreate和created之前执行。创建的是data和method")]),e._v(" "),n("li",[e._v("onBeforeMount() : 组件挂载到节点上之前执行的函数。")]),e._v(" "),n("li",[e._v("onMounted() : 组件挂载完成后执行的函数。")]),e._v(" "),n("li",[e._v("onBeforeUpdate(): 组件更新之前执行的函数。")]),e._v(" "),n("li",[e._v("onUpdated(): 组件更新完成之后执行的函数。")]),e._v(" "),n("li",[e._v("onBeforeUnmount(): 组件卸载之前执行的函数。")]),e._v(" "),n("li",[e._v("onUnmounted(): 组件卸载完成后执行的函数")]),e._v(" "),n("li",[e._v("onActivated(): 被包含在keep-alive中的组件，会多出两个生命周期钩子函数。被激活时执行。")]),e._v(" "),n("li",[e._v("onDeactivated(): 比如从 A 组件，切换到 B 组件，A 组件消失时执行。")]),e._v(" "),n("li",[e._v("onErrorCaptured(): 当捕获一个来自子孙组件的异常时激活钩子函数")])]),e._v(" "),n("p",[n("strong",[e._v("注意")])]),e._v(" "),n("ul",[n("li",[e._v("vue3中依旧可以使用vue2中的钩子函数，而且不必单独引入，也不必写在setup函数中，vue3自己的钩子函数必须单独引入")]),e._v(" "),n("li",[e._v("vue3中的钩子函数会比与之相对应的vue2钩子函数先调用(比如onCreated会比created先调用)")]),e._v(" "),n("li",[e._v("setup 这个函数是在beforeCreate和created之前运行的,所以你可以用它来代替这两个钩子函数。")]),e._v(" "),n("li",[e._v("vue2和vue3的钩子函数可以混用，但是最好不要")])]),e._v(" "),n("h4",{attrs:{id:"onrendertracked-和-onrendertriggered"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#onrendertracked-和-onrendertriggered"}},[e._v("#")]),e._v(" onRenderTracked()和 onRenderTriggered()")]),e._v(" "),n("ol",[n("li",[n("p",[e._v("onRenderTracked 状态跟踪"),n("br"),e._v("\n它会跟踪页面上所有响应式变量和方法的状态，也就是我们用return返回去的值，他都会跟踪。只要页面有update的情况，他就会跟踪，然后生成一个event对象")])]),e._v(" "),n("li",[n("p",[e._v("onRenderTriggered状态触发"),n("br"),e._v("\n它不会跟踪每一个值，而是给你变化值的信息，并且新值和旧值都会给你明确的展示出来。")])]),e._v(" "),n("li",[n("p",[e._v("对 event 对象属性的详细介绍：")])])]),e._v(" "),n("ul",[n("li",[e._v("key 哪个变量发生了变化")]),e._v(" "),n("li",[e._v("newValue 更新后变量的值")]),e._v(" "),n("li",[e._v("oldValue 更新前变量的值")]),e._v(" "),n("li",[e._v("target 目前页面中的响应变量和函数")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v('import { onRenderTracked ,onRenderTriggered,} from "vue";\n\nsetup(){\n  onRenderTracked((event) => {\n    console.log("状态跟踪组件-----------\x3e");\n    console.log(event);\n  })\n\n  onRenderTriggered((event) => {\n    console.log("状态触发组件---------------\x3e");\n    console.log(event);\n  });\n}\n')])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br")])]),n("h3",{attrs:{id:"功能独立模块化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#功能独立模块化"}},[e._v("#")]),e._v(" 功能独立模块化")]),e._v(" "),n("p",[e._v("有些功能我们可能很多地方都会用到，类似于之前的组件，在vue3中我们是这样使用的（示例：点击显示当前时间功能）")]),e._v(" "),n("ul",[n("li",[e._v("在src/hooks文件夹下新建useNowTime文件夹")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("//引入ref\nimport {  ref } from \"vue\";\n\n//功能逻辑\nconst nowTime = ref('00:00:00')\nconst getNowTime = ()=>{\n  const time = new Date();\n  const hour = time.getHours()<10?`0+${time.getHours()}`:time.getHours();\n  const min = time.getMinutes()<10?`0+${time.getMinutes()}`:time.getMinutes();\n  const sec = time.getSeconds()<10?`0+${time.getSeconds()}`:time.getSeconds();\n  nowTime.value = hour+':'+min+':'+sec;\n  setTimeout(getNowTime,1000)\n}\n\n//导出\nexport {\n    nowTime,\n    getNowTime\n}\n\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br"),n("span",{staticClass:"line-number"},[e._v("16")]),n("br"),n("span",{staticClass:"line-number"},[e._v("17")]),n("br"),n("span",{staticClass:"line-number"},[e._v("18")]),n("br"),n("span",{staticClass:"line-number"},[e._v("19")]),n("br"),n("span",{staticClass:"line-number"},[e._v("20")]),n("br")])]),n("ul",[n("li",[e._v("在需要用到的vue文件中")])]),e._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("//引入变量和方法\nimport {nowTime,getNowTime} from './hooks/useNowTime'\n\nexport default {\n  name: \"App\",\n  setup() {\n    //一定记得return出去\n    return{\n      nowTime,\n      getNowTime\n    }\n  },\n};\n\n//然后就可以在template中使用啦\n")])]),e._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[e._v("1")]),n("br"),n("span",{staticClass:"line-number"},[e._v("2")]),n("br"),n("span",{staticClass:"line-number"},[e._v("3")]),n("br"),n("span",{staticClass:"line-number"},[e._v("4")]),n("br"),n("span",{staticClass:"line-number"},[e._v("5")]),n("br"),n("span",{staticClass:"line-number"},[e._v("6")]),n("br"),n("span",{staticClass:"line-number"},[e._v("7")]),n("br"),n("span",{staticClass:"line-number"},[e._v("8")]),n("br"),n("span",{staticClass:"line-number"},[e._v("9")]),n("br"),n("span",{staticClass:"line-number"},[e._v("10")]),n("br"),n("span",{staticClass:"line-number"},[e._v("11")]),n("br"),n("span",{staticClass:"line-number"},[e._v("12")]),n("br"),n("span",{staticClass:"line-number"},[e._v("13")]),n("br"),n("span",{staticClass:"line-number"},[e._v("14")]),n("br"),n("span",{staticClass:"line-number"},[e._v("15")]),n("br")])]),n("ul",[n("li")])])}),[],!1,null,null,null);s.default=t.exports}}]);