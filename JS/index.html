<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JavaScript | Mr哎呦喂的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/VuePress/assets/img/icon1.png">
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e2bd54b8015cec977c6f30d0896b8a1b";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="Mr哎呦喂的博客">
    
    <link rel="preload" href="/VuePress/assets/css/0.styles.b0c0e9a9.css" as="style"><link rel="preload" href="/VuePress/assets/js/app.77389705.js" as="script"><link rel="preload" href="/VuePress/assets/js/2.f648027b.js" as="script"><link rel="preload" href="/VuePress/assets/js/14.d6e28603.js" as="script"><link rel="prefetch" href="/VuePress/assets/js/10.793af9a8.js"><link rel="prefetch" href="/VuePress/assets/js/11.14501879.js"><link rel="prefetch" href="/VuePress/assets/js/12.351754a2.js"><link rel="prefetch" href="/VuePress/assets/js/13.95d24b2f.js"><link rel="prefetch" href="/VuePress/assets/js/15.2225ee2d.js"><link rel="prefetch" href="/VuePress/assets/js/16.82f3c6bd.js"><link rel="prefetch" href="/VuePress/assets/js/17.4b622f18.js"><link rel="prefetch" href="/VuePress/assets/js/18.b96a1fe9.js"><link rel="prefetch" href="/VuePress/assets/js/19.228fb954.js"><link rel="prefetch" href="/VuePress/assets/js/20.6d7ff204.js"><link rel="prefetch" href="/VuePress/assets/js/21.656b376f.js"><link rel="prefetch" href="/VuePress/assets/js/22.49afd7fc.js"><link rel="prefetch" href="/VuePress/assets/js/23.bf2cdecf.js"><link rel="prefetch" href="/VuePress/assets/js/24.0a71d660.js"><link rel="prefetch" href="/VuePress/assets/js/25.75e0ca4d.js"><link rel="prefetch" href="/VuePress/assets/js/26.14f4af4c.js"><link rel="prefetch" href="/VuePress/assets/js/27.43604d43.js"><link rel="prefetch" href="/VuePress/assets/js/28.0a4d129f.js"><link rel="prefetch" href="/VuePress/assets/js/29.c0dd3ae1.js"><link rel="prefetch" href="/VuePress/assets/js/3.def8e99c.js"><link rel="prefetch" href="/VuePress/assets/js/30.0f8ecc54.js"><link rel="prefetch" href="/VuePress/assets/js/31.15690ab4.js"><link rel="prefetch" href="/VuePress/assets/js/32.ce773f62.js"><link rel="prefetch" href="/VuePress/assets/js/33.1b7f11cf.js"><link rel="prefetch" href="/VuePress/assets/js/34.fce1b4f7.js"><link rel="prefetch" href="/VuePress/assets/js/35.52b59a1f.js"><link rel="prefetch" href="/VuePress/assets/js/36.4a1d4029.js"><link rel="prefetch" href="/VuePress/assets/js/37.3c6259ac.js"><link rel="prefetch" href="/VuePress/assets/js/38.b5fd8538.js"><link rel="prefetch" href="/VuePress/assets/js/39.43c9d4af.js"><link rel="prefetch" href="/VuePress/assets/js/4.a52fbc5c.js"><link rel="prefetch" href="/VuePress/assets/js/40.27954725.js"><link rel="prefetch" href="/VuePress/assets/js/41.b1e9fd7b.js"><link rel="prefetch" href="/VuePress/assets/js/42.231df8d4.js"><link rel="prefetch" href="/VuePress/assets/js/43.e4e36fb2.js"><link rel="prefetch" href="/VuePress/assets/js/44.960de7be.js"><link rel="prefetch" href="/VuePress/assets/js/45.d7703da7.js"><link rel="prefetch" href="/VuePress/assets/js/46.99da218d.js"><link rel="prefetch" href="/VuePress/assets/js/47.289386a6.js"><link rel="prefetch" href="/VuePress/assets/js/48.79e75876.js"><link rel="prefetch" href="/VuePress/assets/js/49.08fbbd56.js"><link rel="prefetch" href="/VuePress/assets/js/5.255f36ee.js"><link rel="prefetch" href="/VuePress/assets/js/50.cd3d7654.js"><link rel="prefetch" href="/VuePress/assets/js/51.3311bc9b.js"><link rel="prefetch" href="/VuePress/assets/js/52.7bd3bed3.js"><link rel="prefetch" href="/VuePress/assets/js/53.91e0dc2f.js"><link rel="prefetch" href="/VuePress/assets/js/54.2ee22880.js"><link rel="prefetch" href="/VuePress/assets/js/55.629dc3cf.js"><link rel="prefetch" href="/VuePress/assets/js/56.3f64904f.js"><link rel="prefetch" href="/VuePress/assets/js/57.00227383.js"><link rel="prefetch" href="/VuePress/assets/js/58.dccf5e58.js"><link rel="prefetch" href="/VuePress/assets/js/59.eb5f8e58.js"><link rel="prefetch" href="/VuePress/assets/js/6.c418f1b4.js"><link rel="prefetch" href="/VuePress/assets/js/60.5a7df88a.js"><link rel="prefetch" href="/VuePress/assets/js/61.5584fadb.js"><link rel="prefetch" href="/VuePress/assets/js/62.29dad797.js"><link rel="prefetch" href="/VuePress/assets/js/63.ec63103e.js"><link rel="prefetch" href="/VuePress/assets/js/64.846b515b.js"><link rel="prefetch" href="/VuePress/assets/js/7.92dbcd87.js"><link rel="prefetch" href="/VuePress/assets/js/8.55b43f35.js"><link rel="prefetch" href="/VuePress/assets/js/9.fb8ea612.js">
    <link rel="stylesheet" href="/VuePress/assets/css/0.styles.b0c0e9a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/VuePress/" class="home-link router-link-active"><img src="/VuePress/assets/img/hero.png" alt="Mr哎呦喂的博客" class="logo"> <span class="site-name can-hide">Mr哎呦喂的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/VuePress/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/VuePress/myself/" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="/VuePress/lifeExperience/" class="nav-link">
  人生心得
</a></div><div class="nav-item"><a href="/VuePress/website/" class="nav-link">
  网址导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术文档" class="dropdown-title"><span class="title">技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术文档" class="mobile-dropdown-title"><span class="title">技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/JS/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  基础使用
</a></li><li class="dropdown-subitem"><a href="/VuePress/browser/" class="nav-link">
  浏览器
</a></li></ul></li><li class="dropdown-item"><h4>
          vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/vue/" class="nav-link">
  基础知识
</a></li><li class="dropdown-subitem"><a href="/VuePress/vue/ssr/" class="nav-link">
  ssr
</a></li></ul></li><li class="dropdown-item"><h4>
          面试题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/interview/interviewText.html" class="nav-link">
  理论面试题
</a></li><li class="dropdown-subitem"><a href="/VuePress/interview/interviewMath.html" class="nav-link">
  实战面试题
</a></li><li class="dropdown-subitem"><a href="/VuePress/interview/project.html" class="nav-link">
  项目细节
</a></li></ul></li><li class="dropdown-item"><h4>
          其他知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/knowledge/mobileAPP/" class="nav-link">
  移动端
</a></li><li class="dropdown-subitem"><a href="/VuePress/knowledge/typeScript/" class="nav-link">
  typeScript
</a></li><li class="dropdown-subitem"><a href="/VuePress/knowledge/other/" class="nav-link">
  其他常用
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他知识" class="dropdown-title"><span class="title">其他知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他知识" class="mobile-dropdown-title"><span class="title">其他知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/VuePress/other/camera.html" class="nav-link">
  相机
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/fabric.html" class="nav-link">
  面料
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/fund.html" class="nav-link">
  股票
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/yueyu.html" class="nav-link">
  粤语
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/Interface.html" class="nav-link">
  接口
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/VuePress/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/VuePress/myself/" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="/VuePress/lifeExperience/" class="nav-link">
  人生心得
</a></div><div class="nav-item"><a href="/VuePress/website/" class="nav-link">
  网址导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术文档" class="dropdown-title"><span class="title">技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术文档" class="mobile-dropdown-title"><span class="title">技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/JS/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  基础使用
</a></li><li class="dropdown-subitem"><a href="/VuePress/browser/" class="nav-link">
  浏览器
</a></li></ul></li><li class="dropdown-item"><h4>
          vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/vue/" class="nav-link">
  基础知识
</a></li><li class="dropdown-subitem"><a href="/VuePress/vue/ssr/" class="nav-link">
  ssr
</a></li></ul></li><li class="dropdown-item"><h4>
          面试题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/interview/interviewText.html" class="nav-link">
  理论面试题
</a></li><li class="dropdown-subitem"><a href="/VuePress/interview/interviewMath.html" class="nav-link">
  实战面试题
</a></li><li class="dropdown-subitem"><a href="/VuePress/interview/project.html" class="nav-link">
  项目细节
</a></li></ul></li><li class="dropdown-item"><h4>
          其他知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/knowledge/mobileAPP/" class="nav-link">
  移动端
</a></li><li class="dropdown-subitem"><a href="/VuePress/knowledge/typeScript/" class="nav-link">
  typeScript
</a></li><li class="dropdown-subitem"><a href="/VuePress/knowledge/other/" class="nav-link">
  其他常用
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他知识" class="dropdown-title"><span class="title">其他知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他知识" class="mobile-dropdown-title"><span class="title">其他知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/VuePress/other/camera.html" class="nav-link">
  相机
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/fabric.html" class="nav-link">
  面料
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/fund.html" class="nav-link">
  股票
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/yueyu.html" class="nav-link">
  粤语
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/Interface.html" class="nav-link">
  接口
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/VuePress/JS/" aria-current="page" class="active sidebar-link">JavaScript</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/JS/#冷门小知识" class="sidebar-link">冷门小知识</a></li><li class="sidebar-sub-header"><a href="/VuePress/JS/#特点" class="sidebar-link">特点</a></li><li class="sidebar-sub-header"><a href="/VuePress/JS/#内存回收机制" class="sidebar-link">内存回收机制</a></li><li class="sidebar-sub-header"><a href="/VuePress/JS/#特别注意的点" class="sidebar-link">特别注意的点</a></li><li class="sidebar-sub-header"><a href="/VuePress/JS/#event-loop-主线程-、微任务、宏任务" class="sidebar-link">Event Loop（主线程）、微任务、宏任务</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/JS/#牛刀小试" class="sidebar-link">牛刀小试</a></li></ul></li><li class="sidebar-sub-header"><a href="/VuePress/JS/#js预解析" class="sidebar-link">JS预解析</a></li><li class="sidebar-sub-header"><a href="/VuePress/JS/#js内存机制" class="sidebar-link">JS内存机制</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/JS/#了解内存空间的优点" class="sidebar-link">了解内存空间的优点</a></li><li class="sidebar-sub-header"><a href="/VuePress/JS/#基础数据类型与栈区" class="sidebar-link">基础数据类型与栈区</a></li><li class="sidebar-sub-header"><a href="/VuePress/JS/#引用数据类型与堆区" class="sidebar-link">引用数据类型与堆区</a></li></ul></li></ul></li><li><a href="/VuePress/JS/Object.html" class="sidebar-link">Object对象</a></li><li><a href="/VuePress/JS/Math.html" class="sidebar-link">Math对象</a></li><li><a href="/VuePress/JS/ES6.html" class="sidebar-link">ES6</a></li><li><a href="/VuePress/JS/difficulty.html" class="sidebar-link">难点</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="javascript"><a href="#javascript" class="header-anchor">#</a> JavaScript</h1> <blockquote><p>JavaScript ( JS ) 是一种具有函数优先的轻量级解释型或即时编译型的编程语言。</p></blockquote> <table><thead><tr><th>名称</th> <th>介绍</th></tr></thead> <tbody><tr><td>ECMAScript</td> <td>是Javascript基础规范，定义了Javascript基础语法。</td></tr> <tr><td>BOM 浏览器对象模型</td> <td>可以对浏览器窗口进行访问和操作。</td></tr> <tr><td>DOM 文档对象模型</td> <td>通过创建树来表示文档，从而使开发者对文档的内容和结构具有控制力。用 DOM API 可以轻松操作文档。</td></tr></tbody></table> <h2 id="冷门小知识"><a href="#冷门小知识" class="header-anchor">#</a> 冷门小知识</h2> <ol><li><p>奇怪的小现象<br> <img src="/assets/img/js1.jpg" width="300" height="auto" align="middle"></p></li> <li><p>JS运行原理（引擎编译的过程）</p> <ul><li>首先将JS源码通过解析器解析成抽象语法处AST</li> <li>在通过解释器将AST编译成字节码bytecode</li> <li>字节码最后通过编译器生成机器代码（根据不同平台生成不同的）</li> <li>因为JS是动态类型的语言，变量类型不固定，所以如果我们频繁的变化变量类型，会对V8引擎造成困惑，造成一定程度的性能影响，所以尽量不要随意更换变量类型</li></ul></li> <li><p>箭头函数不写{} 相当于 {return  ***}</p></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>    let Router = [
        {
            id:1,
            pid:0,
            name:'father1',
            path:'/father1'
        },
        {
            id:2,
            pid:1,
            name:'children1',
            path:'/children1'
        }]

    let parents1 = data.filter(a=&gt;a.pid===0);    //正确
    let parents2 = data.filter(a=&gt;{a.pid===0});  //错误
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="特点"><a href="#特点" class="header-anchor">#</a> 特点</h2> <ol><li>弱类型
JavaScript是弱类型语言。但所谓弱类型语言，只表明该语言在表达式运算中不强制效验运算元的数据类型。</li> <li>解释型(解释型或即时编译型)</li> <li>基于对象
js种所有数据根源上都是对象</li> <li>事件驱动</li> <li>单线程/异步(callback)</li></ol> <h2 id="内存回收机制"><a href="#内存回收机制" class="header-anchor">#</a> 内存回收机制</h2> <ul><li>回收时机：内存快满的时候。</li> <li>回收机制：全局变量不回收，局部变量失去引用的时候回收。</li> <li>当内存使用快满的时候，JS就会去内存里找有没有可以回收的局部变量，有就回收。无则继续执行，直到内存溢出报错。</li> <li>所以我们在编写代码的时候，如果有特别大的全局变量，在使用完毕之后一定记得释放内存(让变量=null||undefined)。</li></ul> <h2 id="特别注意的点"><a href="#特别注意的点" class="header-anchor">#</a> 特别注意的点</h2> <ul><li>Promise接收的回调是同步的，只有then，catch里的才是异步</li> <li><strong>异步任务队列里的宏任务要执行的时候，必须确保队列里的微任务清空才可</strong></li> <li>alert出来的结果都要经过toStrng处理，即都是字符串</li> <li>除了函数内部的var是局部的，剩下的var都是全局的</li></ul> <h2 id="event-loop-主线程-、微任务、宏任务"><a href="#event-loop-主线程-、微任务、宏任务" class="header-anchor">#</a> Event Loop（主线程）、微任务、宏任务</h2> <img src="/assets/img/jsOrder.jpg" width="600" height="auto" align="middle"> <ul><li><p>Event Loop由调用栈、消息队列（宏任务）和微任务队列组成</p> <ol><li>从全局代码开始，一行一行执行，如果执行错误则停止后面的代码执行。</li> <li>遇到函数就压入调用栈中，执行里面的代码，执行完毕就弹出调用栈</li> <li>JS调用栈采用的是后进先出的规则，当函数执行的时候，会被添加到栈的顶部，当执行栈执行完成后，就会从栈顶移出，直到栈内被清空。</li> <li>消息队列中的代码会在调用栈和微任务队列清空的时候执行</li></ol></li> <li><p>执行顺序</p> <ol><li>调用栈空闲的时候，如果有微任务就先执行微任务</li> <li>接着浏览器会尝试进行DOM渲染，渲染完之后才会触发Event loop执行消息队列（宏任务）中的代码</li> <li>宏任务中的代码被压入调用栈中</li></ol></li> <li><p>微任务（DOM渲染之前完成，都是ES6的API）<br>
Promise process.nextTick  async/await</p></li> <li><p>宏任务（DOM渲染之后完成，都是浏览器的API）<br>
整体代码script setTimeout setInterval  Ajax DOM事件</p></li></ul> <h3 id="牛刀小试"><a href="#牛刀小试" class="header-anchor">#</a> 牛刀小试</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>        console.log(1)                          
        setTimeout(() =&gt; {                     
            console.log('set1')
            new Promise((reslove, reject) =&gt; {
                console.log('pro1')
                reslove()
            }).then(() =&gt; {
                console.log('then1')
            })
        })

        setTimeout(() =&gt; {                     
            console.log('set2')
        })

        new Promise((reslove) =&gt; {              
            console.log('pro2')
            reslove()
        }).then(() =&gt; {
            console.log('then2')
        })

        console.log(2)
        /*
        1. 输出1 
        2. 遇到setTimeOut都放到异步执行队列
        3. 输出pro2，then2被放入异步执行队列
        4. 输出2
        5. 此时异步队列里有set1，set2和then2,因为then2是微任务，setTimeOut是宏任务，所以先输出then2
        6. 接着执行set1输出set1，再输出pro1，then1被放入异步执行队列
        7. 异步队列只剩then1和set2，因为then1是微任务，要执行set2则必须先执行then1,所以先输出then1，在输出set2

        1   pro2  2  then2  set1 pro1 then1 set2
        */

        //做这一类面试题的时候，最好在纸上列出异步任务队列，写清楚微任务宏任务，便一目了然
        //第一轮执行完毕后：{微任务:[then2]   宏任务:[set1,set2]}
        //第二轮执行完毕后：{微任务:[then1]   宏任务:[set2]}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h2 id="js预解析"><a href="#js预解析" class="header-anchor">#</a> JS预解析</h2> <h2 id="js内存机制"><a href="#js内存机制" class="header-anchor">#</a> JS内存机制</h2> <div class="custom-block tip"><p class="custom-block-title">知识储备</p> <ol><li>JS有三种数据类型，基本类型(number,boolean,string,null,undefined)和引用类型(function,object)特殊类型(symbol)</li> <li>内存基元在变量（对象，字符串等等）创建时分配，然后在他们不再被使用时“自动”释放。后者被称为垃圾回收</li> <li>JS内存空间分为栈(stack)、堆(heap)、池(一般也会归类为栈中)。 其中栈提供代码运行的环境，存放基础类型，堆存放引用类型，池存放常量。</li></ol></div> <h3 id="了解内存空间的优点"><a href="#了解内存空间的优点" class="header-anchor">#</a> 了解内存空间的优点</h3> <ul><li>了解浅拷贝与深拷贝有什么不同</li> <li>对闭包、原型有更好的理解</li> <li>对于引用数据类型、初始数据类型有更好的理解</li></ul> <h3 id="基础数据类型与栈区"><a href="#基础数据类型与栈区" class="header-anchor">#</a> 基础数据类型与栈区</h3> <ul><li>JS中的基础数据类型，这些值都有固定的大小，往往都保存在栈内存中（闭包除外），由系统自动分配存储空间。我们可以直接操作保存在栈内存空间的值，因此基础数据类型都是按值访问</li> <li>栈空间的特点 先进后出，后进先出。</li> <li>栈内存就是给代码的执行提供一个环境，也叫上下文，它的大小是固定的（存在栈内存溢出的情况）</li></ul> <h3 id="引用数据类型与堆区"><a href="#引用数据类型与堆区" class="header-anchor">#</a> 引用数据类型与堆区</h3> <ul><li>堆内存是用来存储引用类型值的，比如对象、数组等，它的大小不固定</li> <li>JS的引用数据类型，比如数组Array，它们值的大小是不固定的。引用数据类型的值是保存在堆内存中的对象。JS不允许直接访问堆内存中的位置，因此我们不能直接操作对象的堆内存空间。</li></ul> <ul><li>如何去操作对象</li></ul> <ul><li>在操作对象时，实际上是在操作对象的引用而不是实际的对象。因此，引用类型的值都是按引用访问的。这里的引用，我们可以理解为保存在栈内存中的一个地址，该地址与堆内存的实际值相关联。</li></ul> <ul><li>我们的堆区存取数据的方式与书架很类似</li></ul> <ul><li><p>书虽然也是有序的存放在书架上，但是我们只要知道书的名字，我们就可以很方便的取出我们想要的书，而不用像从乒乓球盒子里取乒乓一样，非得将上面的所有乒乓球拿出来才能取到中间的某一个乒乓球。好比在JSON格式的数据中，我们存储的属性(key)是可以无序的，因为顺序的不同并不影响我们的使用，我们只需要关心书的名字。</p></li> <li><p>可以看到，在上面的图中，我们的变量都存在栈区，但是如果变量所对应的是一个对象或者数组，那么它所保存的其实是他们在堆区中的一个地址的指针。</p></li> <li><p>那么当我们要访问存在于堆区中的内容的时候，首先需要在栈区中获取到这个对象的地址的引用(保存地址的变量)，然后再从堆内存中取得我们需要的数据。</p></li></ul> <p>上图中的变量是在栈区保存的，那么当栈区中的数据发生拷贝行为的时候，系统会自动为新的变量开辟一个房间，并赋一个新的值，所以在拷贝后，再修改新的变量不会对原来的变量值造成影响。</p> <p>在demo2中我们发现我们是在拷贝一个对象(引用数据类型)。而引用数据类型的拷贝也会为它新开辟一个变量的栈区内存，但不同的是，这个新的变量只会保存原来引用类型的一个地址指针。当指针相同的时候，尽管他们不是同一个变量，但是更改其中一个，另外一个也会受到影响。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/VuePress/JS/Object.html">
        Object对象
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/VuePress/assets/js/app.77389705.js" defer></script><script src="/VuePress/assets/js/2.f648027b.js" defer></script><script src="/VuePress/assets/js/14.d6e28603.js" defer></script>
  </body>
</html>
