<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>使用uniapp开发微信小程序 | Mr哎呦喂的博客</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/VuePress/assets/img/icon1.png">
    <script>
        var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?e2bd54b8015cec977c6f30d0896b8a1b";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();
      </script>
    <meta name="description" content="Mr哎呦喂的博客">
    
    <link rel="preload" href="/VuePress/assets/css/0.styles.b0c0e9a9.css" as="style"><link rel="preload" href="/VuePress/assets/js/app.77389705.js" as="script"><link rel="preload" href="/VuePress/assets/js/2.f648027b.js" as="script"><link rel="preload" href="/VuePress/assets/js/58.dccf5e58.js" as="script"><link rel="prefetch" href="/VuePress/assets/js/10.793af9a8.js"><link rel="prefetch" href="/VuePress/assets/js/11.14501879.js"><link rel="prefetch" href="/VuePress/assets/js/12.351754a2.js"><link rel="prefetch" href="/VuePress/assets/js/13.95d24b2f.js"><link rel="prefetch" href="/VuePress/assets/js/14.d6e28603.js"><link rel="prefetch" href="/VuePress/assets/js/15.2225ee2d.js"><link rel="prefetch" href="/VuePress/assets/js/16.82f3c6bd.js"><link rel="prefetch" href="/VuePress/assets/js/17.4b622f18.js"><link rel="prefetch" href="/VuePress/assets/js/18.b96a1fe9.js"><link rel="prefetch" href="/VuePress/assets/js/19.228fb954.js"><link rel="prefetch" href="/VuePress/assets/js/20.6d7ff204.js"><link rel="prefetch" href="/VuePress/assets/js/21.656b376f.js"><link rel="prefetch" href="/VuePress/assets/js/22.49afd7fc.js"><link rel="prefetch" href="/VuePress/assets/js/23.bf2cdecf.js"><link rel="prefetch" href="/VuePress/assets/js/24.0a71d660.js"><link rel="prefetch" href="/VuePress/assets/js/25.75e0ca4d.js"><link rel="prefetch" href="/VuePress/assets/js/26.14f4af4c.js"><link rel="prefetch" href="/VuePress/assets/js/27.43604d43.js"><link rel="prefetch" href="/VuePress/assets/js/28.0a4d129f.js"><link rel="prefetch" href="/VuePress/assets/js/29.c0dd3ae1.js"><link rel="prefetch" href="/VuePress/assets/js/3.def8e99c.js"><link rel="prefetch" href="/VuePress/assets/js/30.0f8ecc54.js"><link rel="prefetch" href="/VuePress/assets/js/31.15690ab4.js"><link rel="prefetch" href="/VuePress/assets/js/32.ce773f62.js"><link rel="prefetch" href="/VuePress/assets/js/33.1b7f11cf.js"><link rel="prefetch" href="/VuePress/assets/js/34.fce1b4f7.js"><link rel="prefetch" href="/VuePress/assets/js/35.52b59a1f.js"><link rel="prefetch" href="/VuePress/assets/js/36.4a1d4029.js"><link rel="prefetch" href="/VuePress/assets/js/37.3c6259ac.js"><link rel="prefetch" href="/VuePress/assets/js/38.b5fd8538.js"><link rel="prefetch" href="/VuePress/assets/js/39.43c9d4af.js"><link rel="prefetch" href="/VuePress/assets/js/4.a52fbc5c.js"><link rel="prefetch" href="/VuePress/assets/js/40.27954725.js"><link rel="prefetch" href="/VuePress/assets/js/41.b1e9fd7b.js"><link rel="prefetch" href="/VuePress/assets/js/42.231df8d4.js"><link rel="prefetch" href="/VuePress/assets/js/43.e4e36fb2.js"><link rel="prefetch" href="/VuePress/assets/js/44.960de7be.js"><link rel="prefetch" href="/VuePress/assets/js/45.d7703da7.js"><link rel="prefetch" href="/VuePress/assets/js/46.99da218d.js"><link rel="prefetch" href="/VuePress/assets/js/47.289386a6.js"><link rel="prefetch" href="/VuePress/assets/js/48.79e75876.js"><link rel="prefetch" href="/VuePress/assets/js/49.08fbbd56.js"><link rel="prefetch" href="/VuePress/assets/js/5.255f36ee.js"><link rel="prefetch" href="/VuePress/assets/js/50.cd3d7654.js"><link rel="prefetch" href="/VuePress/assets/js/51.3311bc9b.js"><link rel="prefetch" href="/VuePress/assets/js/52.7bd3bed3.js"><link rel="prefetch" href="/VuePress/assets/js/53.91e0dc2f.js"><link rel="prefetch" href="/VuePress/assets/js/54.2ee22880.js"><link rel="prefetch" href="/VuePress/assets/js/55.629dc3cf.js"><link rel="prefetch" href="/VuePress/assets/js/56.3f64904f.js"><link rel="prefetch" href="/VuePress/assets/js/57.00227383.js"><link rel="prefetch" href="/VuePress/assets/js/59.eb5f8e58.js"><link rel="prefetch" href="/VuePress/assets/js/6.c418f1b4.js"><link rel="prefetch" href="/VuePress/assets/js/60.5a7df88a.js"><link rel="prefetch" href="/VuePress/assets/js/61.5584fadb.js"><link rel="prefetch" href="/VuePress/assets/js/62.29dad797.js"><link rel="prefetch" href="/VuePress/assets/js/63.ec63103e.js"><link rel="prefetch" href="/VuePress/assets/js/64.846b515b.js"><link rel="prefetch" href="/VuePress/assets/js/7.92dbcd87.js"><link rel="prefetch" href="/VuePress/assets/js/8.55b43f35.js"><link rel="prefetch" href="/VuePress/assets/js/9.fb8ea612.js">
    <link rel="stylesheet" href="/VuePress/assets/css/0.styles.b0c0e9a9.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/VuePress/" class="home-link router-link-active"><img src="/VuePress/assets/img/hero.png" alt="Mr哎呦喂的博客" class="logo"> <span class="site-name can-hide">Mr哎呦喂的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/VuePress/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/VuePress/myself/" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="/VuePress/lifeExperience/" class="nav-link">
  人生心得
</a></div><div class="nav-item"><a href="/VuePress/website/" class="nav-link">
  网址导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术文档" class="dropdown-title"><span class="title">技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术文档" class="mobile-dropdown-title"><span class="title">技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/JS/" class="nav-link">
  基础使用
</a></li><li class="dropdown-subitem"><a href="/VuePress/browser/" class="nav-link">
  浏览器
</a></li></ul></li><li class="dropdown-item"><h4>
          vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/vue/" class="nav-link router-link-active">
  基础知识
</a></li><li class="dropdown-subitem"><a href="/VuePress/vue/ssr/" class="nav-link">
  ssr
</a></li></ul></li><li class="dropdown-item"><h4>
          面试题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/interview/interviewText.html" class="nav-link">
  理论面试题
</a></li><li class="dropdown-subitem"><a href="/VuePress/interview/interviewMath.html" class="nav-link">
  实战面试题
</a></li><li class="dropdown-subitem"><a href="/VuePress/interview/project.html" class="nav-link">
  项目细节
</a></li></ul></li><li class="dropdown-item"><h4>
          其他知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/knowledge/mobileAPP/" class="nav-link">
  移动端
</a></li><li class="dropdown-subitem"><a href="/VuePress/knowledge/typeScript/" class="nav-link">
  typeScript
</a></li><li class="dropdown-subitem"><a href="/VuePress/knowledge/other/" class="nav-link">
  其他常用
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他知识" class="dropdown-title"><span class="title">其他知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他知识" class="mobile-dropdown-title"><span class="title">其他知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/VuePress/other/camera.html" class="nav-link">
  相机
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/fabric.html" class="nav-link">
  面料
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/fund.html" class="nav-link">
  股票
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/yueyu.html" class="nav-link">
  粤语
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/Interface.html" class="nav-link">
  接口
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/VuePress/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/VuePress/myself/" class="nav-link">
  关于我
</a></div><div class="nav-item"><a href="/VuePress/lifeExperience/" class="nav-link">
  人生心得
</a></div><div class="nav-item"><a href="/VuePress/website/" class="nav-link">
  网址导航
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="技术文档" class="dropdown-title"><span class="title">技术文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="技术文档" class="mobile-dropdown-title"><span class="title">技术文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          JS
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/JS/" class="nav-link">
  基础使用
</a></li><li class="dropdown-subitem"><a href="/VuePress/browser/" class="nav-link">
  浏览器
</a></li></ul></li><li class="dropdown-item"><h4>
          vue
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/vue/" class="nav-link router-link-active">
  基础知识
</a></li><li class="dropdown-subitem"><a href="/VuePress/vue/ssr/" class="nav-link">
  ssr
</a></li></ul></li><li class="dropdown-item"><h4>
          面试题
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/interview/interviewText.html" class="nav-link">
  理论面试题
</a></li><li class="dropdown-subitem"><a href="/VuePress/interview/interviewMath.html" class="nav-link">
  实战面试题
</a></li><li class="dropdown-subitem"><a href="/VuePress/interview/project.html" class="nav-link">
  项目细节
</a></li></ul></li><li class="dropdown-item"><h4>
          其他知识
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/VuePress/knowledge/mobileAPP/" class="nav-link">
  移动端
</a></li><li class="dropdown-subitem"><a href="/VuePress/knowledge/typeScript/" class="nav-link">
  typeScript
</a></li><li class="dropdown-subitem"><a href="/VuePress/knowledge/other/" class="nav-link">
  其他常用
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他知识" class="dropdown-title"><span class="title">其他知识</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他知识" class="mobile-dropdown-title"><span class="title">其他知识</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/VuePress/other/camera.html" class="nav-link">
  相机
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/fabric.html" class="nav-link">
  面料
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/fund.html" class="nav-link">
  股票
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/yueyu.html" class="nav-link">
  粤语
</a></li><li class="dropdown-item"><!----> <a href="/VuePress/other/Interface.html" class="nav-link">
  接口
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/VuePress/vue/vue.html" class="sidebar-link">vue2</a></li><li><a href="/VuePress/vue/vue-x.html" class="sidebar-link">vue-x</a></li><li><a href="/VuePress/vue/vue-router.html" class="sidebar-link">vue路由</a></li><li><a href="/VuePress/vue/sourceCode.html" class="sidebar-link">源码</a></li><li><a href="/VuePress/vue/ssr.html" class="sidebar-link">SSR</a></li><li><a href="/VuePress/vue/project.html" class="sidebar-link">从零开始创建一个vue项目</a></li><li><a href="/VuePress/vue/vue3.html" class="sidebar-link">vue3新特性</a></li><li><a href="/VuePress/vue/vite.html" class="sidebar-link">Vite</a></li><li><a href="/VuePress/vue/projectPractice.html" class="sidebar-link">项目实践</a></li><li><a href="/VuePress/vue/uniapp.html" aria-current="page" class="active sidebar-link">使用uniapp开发微信小程序</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#初始流程" class="sidebar-link">初始流程</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#创建项目" class="sidebar-link">创建项目</a></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#样式" class="sidebar-link">样式</a></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#全局数据" class="sidebar-link">全局数据</a></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#生命周期" class="sidebar-link">生命周期</a></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#布局" class="sidebar-link">布局</a></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#标签功能改动" class="sidebar-link">标签功能改动</a></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#引入外部组件" class="sidebar-link">引入外部组件</a></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#分包" class="sidebar-link">分包</a></li></ul></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#小知识" class="sidebar-link">小知识</a></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#排坑" class="sidebar-link">排坑</a></li><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#uni-ui的使用" class="sidebar-link">uni-ui的使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/VuePress/vue/uniapp.html#uni-forms" class="sidebar-link">uni-forms</a></li></ul></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="使用uniapp开发微信小程序"><a href="#使用uniapp开发微信小程序" class="header-anchor">#</a> 使用uniapp开发微信小程序</h1> <h2 id="初始流程"><a href="#初始流程" class="header-anchor">#</a> 初始流程</h2> <h3 id="创建项目"><a href="#创建项目" class="header-anchor">#</a> 创建项目</h3> <ol><li>全局安装vue脚手架<br> <code>npm install -g @vue/cli</code></li> <li>使用uni-app创建项目<br> <code>vue create -p dcloudio/uni-preset-vue my-project</code></li> <li>运行<br> <code>npm run dev:mp-weixin</code></li> <li>在小程序开发工具中导入项目
打开开发者工具-&gt;导入项目-&gt;dist-&gt;dev-&gt;mp-weixin</li></ol> <h3 id="样式"><a href="#样式" class="header-anchor">#</a> 样式</h3> <ol><li>sass
安装<code>npm install sass-loader node-sass</code><br>
使用<code>&lt;style lang='scss'&gt;</code>即可<br>
uni-app内置sass配置</li> <li>单位
rpx和vw/vh都支持</li></ol> <h3 id="全局数据"><a href="#全局数据" class="header-anchor">#</a> 全局数据</h3> <ol><li>vue全局挂载<code>vue.prototype.XX = ''</code></li> <li>小程序全局数据</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>APP.vue中的globalData:{}

赋值 getApp().globalData.text = 'test'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h3> <ol><li>uni-app结合了vue和小程序的生命周期</li> <li>全局APP中使用onLaunch表示应用启动时 onshow、onHide当用户切换外部应用时生效</li> <li>页面中 onLoad表示页面加载完毕时  onshow表示页面显示时</li> <li>组件中依然使用vue生命周期，使用onLoad是无效的</li></ol> <h3 id="布局"><a href="#布局" class="header-anchor">#</a> 布局</h3> <ol><li><strong><a href="https://uniapp.dcloud.io/collocation/pages?id=tabbar" target="_blank" rel="noopener noreferrer">底部导航<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>pages.json中

    &quot;tabBar&quot;: {
	    &quot;color&quot;: &quot;#7A7E83&quot;,					//默认文字颜色
	    &quot;selectedColor&quot;: &quot;#3cc51f&quot;,			//选中文字颜色
	    &quot;borderStyle&quot;: &quot;black&quot;,				//tabbar 上边框的颜色
	    &quot;backgroundColor&quot;: &quot;#ffffff&quot;,		//底部导航背景颜色
	    &quot;list&quot;: [{							//导航对应的文件地址，icon地址，文字
	        &quot;pagePath&quot;: &quot;pages/demo/index&quot;,
	        &quot;iconPath&quot;: &quot;static/image/time.jpg&quot;,
	        &quot;selectedIconPath&quot;: &quot;static/image/time.jpg&quot;,
	        &quot;text&quot;: &quot;组件&quot;
	    }, {
	        &quot;pagePath&quot;: &quot;pages/index/index&quot;,
	        &quot;iconPath&quot;: &quot;static/image/time.jpg&quot;,
	        &quot;selectedIconPath&quot;: &quot;static/image/time.jpg&quot;,
	        &quot;text&quot;: &quot;接口&quot;
	    }]
	}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><ol start="2"><li><strong>引入字体图标和默认样式清除</strong></li></ol> <ul><li><p>创建目录<br> <kbd>根目录</kbd>-&gt;<kbd>src</kbd>-&gt;<kbd>styles</kbd>-&gt;<kbd>iconfont.wxss</kbd></p></li> <li><p>复制iconfont生成的在线代码到<kbd>iconfont.wxss</kbd>中<br> <img src="/assets/img/uni-app/uni-app1.jpg" width="500" height="auto" align="middle"></p></li> <li><p>在app.vue中引入样式</p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;style&gt;
	@import &quot;./styles/iconfont.wxss&quot;;
&lt;/style&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>使用<br> <code>&lt;text class=&quot;iconfont icon-tab&quot;&gt;&lt;/text&gt;</code></p></li> <li><p>默认样式清除<br>
小程序不支持*通配符，所以需要手写每个标签
<kbd>根目录</kbd>-&gt;<kbd>src</kbd>-&gt;<kbd>styles</kbd>-&gt;<kbd>base.wxss</kbd></p></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>view,
text,
navigator,
input,
image,
swiper,
swiper-item,
scroll-view,
page {
	margin: 0;
	padding: 0;
	box-sizing: border-box;
}

page{
	font-size: 28rpx;
	color: #666;
}
image{
	width: 100%;
	display: block;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><ol start="3"><li><strong>uni-ui的使用</strong></li></ol> <p><a href="https://uniapp.dcloud.io/component/README?id=uniui" target="_blank" rel="noopener noreferrer">文档地址<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
组件-&gt;拓展组件-&gt;<a href="https://ext.dcloud.net.cn/plugin?id=55" target="_blank" rel="noopener noreferrer">npm安装参考<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>-&gt;<a href="https://www.npmjs.com/package/@dcloudio/uni-ui" target="_blank" rel="noopener noreferrer">详细文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol start="4"><li><strong>请求封装</strong>
封装原因：</li> <li>原生wx请求不支持promise</li> <li>uni-api的请求不方便添加loading效果</li> <li>uni-api的请求返回的是一个数组，不方便</li></ol> <p><kbd>src</kbd>-&gt;<kbd>utils</kbd>-&gt;<kbd>request.js</kbd></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>export default (params)=&gt;{
	return new Promise((reslove,reject)=&gt;{
		uni.showLoading({
			title:&quot;加载中...&quot;
		})
		
		wx.request({
			...params,
			success(res){
				reslove(res)
			},
			fail(err){
				reject(err)
			},
			complete() {
				uni.hideLoading()
			}
		})	
	})
}

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="标签功能改动"><a href="#标签功能改动" class="header-anchor">#</a> 标签功能改动</h3> <ol><li>跳转
<strong>navigator</strong></li></ol> <div class="custom-block tip"><p class="custom-block-title">跳转</p> <p>该组件类似HTML中的<code>&lt;a&gt;&lt;/a&gt;</code>标签，但只能跳转本地页面。目标页面必须在pages.json中注册。
通过url属性来跳转</p> <p>动态跳转</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//路径为根目录的具体路径  参数使用?拼接
uni.navigateTo({
	url: '/packagePages/pages/ApplicationDetail/index?depType=code' 
});

//接收参数  在目标页面的onLoad函数中通过options接收
onLoad: function(option) { 	//option为object类型，会序列化上个页面传递的参数
	console.log(option); 	//打印出上个页面传递的参数。
}

//返回上一页
uni.navigateBack({
    delta: 1
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></div> <ol start="2"><li>请求
<strong>uni.request</strong></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>uni.request({
    url: 'https://www.example.com/request', //仅为示例，并非真实接口地址。
    data: {},
    header: {
        'custom-header': 'hello' //自定义请求头信息
    },
    success: (res) =&gt; {
        console.log(res.data);
    }
});
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="引入外部组件"><a href="#引入外部组件" class="header-anchor">#</a> 引入外部组件</h3> <p>以vant-weapp为例</p> <ol><li><p>创建目录<br> <kbd>src</kbd>-&gt;<kbd> wxcomponents</kbd>-&gt;<kbd>vant</kbd><br> <img src="/assets/img/uni-app/uni-app2.jpg" width="300" height="auto" align="middle"></p></li> <li><p>项目中引入vant-weapp组件<br>
在<a href="https://github.com/youzan/vant-weapp" target="_blank" rel="noopener noreferrer">vant-weapp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的GitHub <a href="https://github.com/youzan/vant-weapp/releases" target="_blank" rel="noopener noreferrer">Releases<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>版块下载最新的zip包<br>
解压下载文件,将dist目录拷贝到刚才创建vant目录中<br> <img src="/assets/img/uni-app/uni-app3.jpg" width="500" height="auto" align="middle"></p></li> <li><p>在配置中注册组件</p></li></ol> <ul><li><p>将需要频繁使用的组件在pages.json的globalStyle的usingComponents中引入，如下图
<img src="/assets/img/uni-app/uni-app4.jpg" width="500" height="auto" align="middle"></p></li> <li><p>需要单独引入的则写入pages.json的pages中对应页面的style-&gt;usingComponents即可（注意加入对应小程序的模块名称）<br> <img src="/assets/img/uni-app/uni-app5.jpg" width="500" height="auto" align="middle"></p></li> <li><p>如果不生效，试着在App.Vue文件中style部分引入UI组件库的 样式文件<br> <code>@import &quot;/wxcomponents/vant/dist/common/index.wxss&quot;;</code></p></li> <li><p>接着就可以随意使用啦~<br> <code>&lt;van-button type=&quot;default&quot;&gt;默认按钮&lt;/van-button&gt;</code></p></li></ul> <h3 id="分包"><a href="#分包" class="header-anchor">#</a> 分包</h3> <blockquote><p>小程序打包体积有大小限制，超过2M的就不能在线预览和真机调试了。</p></blockquote> <p>所以我们要做的除了对图片进行压缩处理之外，还可以对页面进行分包处理。简单来讲就是主要页面放在主目录的pages里面，次要页面放在分包目录中，需要的时候在加载进来。</p> <details class="custom-block details"><summary>详细步骤</summary> <ol><li>在pages同级创建分包目录packagePages</li> <li><kbd>packagePages</kbd>下创建<kbd> pages</kbd>文件夹（放置页面文件）和<kbd>static</kbd>文件夹（放置静态资源）</li> <li><kbd>pages.json</kbd>中增加分包配置</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>//分包配置
&quot;subPackages&quot;:[{
		&quot;root&quot;: &quot;packagePages&quot;, // 当前分包的根目录文件
		&quot;pages&quot;:[{  			// 当前分包的页面配置
			&quot;path&quot;: &quot;pages/index/index&quot;,
			&quot;style&quot;: {
				&quot;navigationBarTitleText&quot;: &quot;分包测试页面&quot;
			}
		}]
}],

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ol start="4"><li><kbd>manifest.json</kbd>-&gt;<kbd> 源码视图</kbd>-&gt;<kbd>mp-weixin</kbd>对象中增加分包优化配置<br> <code>&quot;optimization&quot;:{&quot;subPackages&quot;:true}</code></li></ol></details> <h2 id="小知识"><a href="#小知识" class="header-anchor">#</a> 小知识</h2> <ol><li>微信小程序不支持css的*通配符</li> <li>图片视频等静态文件只能放在static目录下</li> <li>css、less/scss 等资源不要放在 static 目录下，建议这些公用的资源放在自建的 common 目录下。</li> <li>uni-app内置了vuex，所以可以直接使用，不用安装</li> <li>跳转Tabbar页面时，不能使用uni.navigateTo()，需要用uni.switchTab();</li> <li>常用api</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>//本地缓存
uni.setStorageSync('key', res.result.id);
uni.getStorageSync('key')

[自定义分享内容](https://uniapp.dcloud.io/api/plugins/share?id=onshareappmessage)
  //先打开分享按钮（onLoad或者mounted中）
  wx.showShareMenu({
	withShareTicket: true,
	menus: ['shareAppMessage', 'shareTimeline']
  })
  
  //自定义内容(跟onLoad或者mounted同级)
  onShareAppMessage(res) {
    if (res.from === 'button') {// 来自页面内分享按钮
      console.log(res.target)
    }
    return {
      title: '自定义分享标题',
      path: '/pages/test/test?id=123'
    }
  }

注意onShareAppMessage已经没有成功失败的回调了，是因为官方为了防止诱导分享

//动态修改页面标题
uni.setNavigationBarTitle({
	title:&quot;改了  有什么好说的&quot;
})

//动态跳转
uni.navigateTo({
	url:&quot;../index/index&quot;
})

//返回上一页
uni.navigateBack({
    delta: 1
});

//下载图片和视频
uni.downloadFile({
	url:&quot;&quot;
})
then可以接收到一个数组，第二项为图片或者视频在小程序中的临时路径，需要将它下载到本地
uni.saveImageToPhotosAlbum({	//图片保存到本地
	filePath:&quot;&quot;					//此处传入上面得到的临时地址
})
uni.saveVideoToPhotosAlbum({	//视频保存到本地
	filePath:&quot;&quot;
})
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><ol start="5"><li>常用事件</li></ol> <ul><li>手指按下屏幕 touchstart</li> <li>手指离开屏幕 touchend</li> <li>手指在屏幕上的坐标 event.changedTouches[0].clientX和clientY</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>@touchstart='touchStart'

touchStart(event){
	//手指按下时的横纵坐标
	console.log(event.changedTouches[0].clientX);
	console.log(event.changedTouches[0].clientY);
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="排坑"><a href="#排坑" class="header-anchor">#</a> 排坑</h2> <ol><li>未找到 van-toast 节点，请确认 selector 及 context 是否正确</li></ol> <div class="custom-block tip"><p class="custom-block-title">问题描述</p> <p>在uni-app开发的小程序中使用toast组件，先在全局globalStyle中注册了van-toast,结果发现报错<br>
查阅文档才发现，还需要在当前页面单独引入<br> <code>import Toast from '@/wxcomponents/vant/dist/toast/toast'</code><br>
结果引入之后就报了上面的错误   百思不得其解<br>
最后百度了一下，发现居然还要在template中加入van-toast标签才可以<br> <code>&lt;van-toast id=&quot;van-toast&quot; /&gt;</code><br>
就离谱</p></div> <ol start="2"><li>跳转失效
登录之后想要跳转到首页，但是怎么都没反应，控制台还报了警告,也看不懂</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>Content Security Policy of your site blocks the use of 'eval' in JavaScript
Indicate whether a cookie is intended to be set in a cross-site context by specifying its SameSite attribute
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>最后查阅得知，想要跳转到Tabbar中注册的页面时，不能使用uni.navigateTo()，需要用uni.switchTab();</p> <ol start="3"><li>input框初次输入一直会出现[object object]
<img src="/assets/img/uni-app/uni-app6.jpg" width="300" height="auto" align="middle"></li></ol> <p>表单组件使用的是uni-ui的forms组件，但是输入框用的是vant-weapp的，按照uni-forms的用法执行后就出现这种情况，排查了各种问题<br>
初始值，传入的值，都没什么问题，最后突然想起来是不是绑定的值出了问题，查阅了vant-weapp的filed组件的用法，发现了问题所在<br> <code>&lt;van-field v-model=&quot;formData.captcha&quot;&gt;</code><br>
应该按照vant的用法，使用:value绑定值，而不是v-model<br>
呼~累</p> <ol start="4"><li>本地资源图片无法通过 WXSS 获取，可以使用...</li></ol> <div class="custom-block tip"><p class="custom-block-title">问题描述</p> <p>报错原因是因为在css中使用了背景图片
<code>background-image: url(&quot;../../static/images/bg/manage_bg_fxq750.jpg&quot;);</code></p> <p>最简单的解决办法是将样式写在HTML中（行内样式）即可。<br>
转成base64会导致代码量大大增加，不太合理。</p></div> <ol start="10"><li>scss语法报错</li></ol> <div class="custom-block tip"><p class="custom-block-title">问题描述</p> <p>明明安装了node-sass和sass-loader，但是编译完之后，小程序开发者工具始终会报错。</p> <p>位置就是使用了sass语法的地方。</p> <p>百思不得其解+1。</p> <p>重装了HBuilderX的sass编译器，<code>&lt;style&gt;</code>标签里也加了lang='scss'，仍然没有解决</p> <p>最后百度得知原来是引入方式错误了</p></div> <div class="language- line-numbers-mode"><pre class="language-text"><code>//错误写法
&lt;style lang=&quot;scss&quot;&gt;
	@import url(&quot;@/styles/common.scss&quot;);
	@import url(&quot;@/styles/vant.scss&quot;);
&lt;/style&gt;

//正确写法
&lt;style lang=&quot;scss&quot;&gt;
	@import &quot;@/styles/common.scss&quot;;
	@import &quot;@/styles/vant.scss&quot;;
&lt;/style&gt;

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><ol start="11"><li>图片不显示</li></ol> <div class="custom-block tip"><p class="custom-block-title">问题描述</p> <p>同一个页面，上面是大的轮播图，下面是一些小图标，用的都是van-image标签<br>
奇怪的是，图标可以显示，轮播图不行<br>
各种排除，src路经是没错的，因为打印出来的路径用网页可以打开，写法也没什么错误，引入图片的方式也跟图标一样，怎么就出不来了呢<br>
最后的结果是</p> <p>没！给！宽！高！
我想shi</p></div> <h2 id="uni-ui的使用"><a href="#uni-ui的使用" class="header-anchor">#</a> uni-ui的使用</h2> <h3 id="uni-forms"><a href="#uni-forms" class="header-anchor">#</a> uni-forms</h3> <ol><li>手动提交</li></ol> <details class="custom-block details"><summary>详情</summary> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;button @click=&quot;submitForm&quot;&gt;Submit&lt;/button&gt;


submitForm(form) {
    // 手动提交表单 示例中的submit()方法即将废弃,所以使用validate方法
    this.$refs.form.validate()
	.then(res =&gt; {
		console.log('表单的值：', res)
	})
	.catch(errors =&gt; {
		console.error('验证失败：', errors)
	})
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></details></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/VuePress/vue/projectPractice.html" class="prev">
        项目实践
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/VuePress/assets/js/app.77389705.js" defer></script><script src="/VuePress/assets/js/2.f648027b.js" defer></script><script src="/VuePress/assets/js/58.dccf5e58.js" defer></script>
  </body>
</html>
